#!/usr/bin/env node

var mongojs = require('mongojs')
var randstr = require('randomstring').generate
var _       = require('underscore')
var db      = mongojs('trap')
var mines   = db.collection('mines')
var players = db.collection('players')

mines.drop()
players.drop()

mines.insert([
    {
        _id: mongojs.ObjectId("537e48763511c15161a1ed9f"),
        active: true,
        location: {type:'Point', coordinates:[-93.1512663, 44.460136]},
        owner: mongojs.ObjectId("537e48763511c15161a1ed9b"),
    },
    {
        _id: mongojs.ObjectId("537e48763511c15161a1ed9d"),
        active: true,
        location: {type:'Point', coordinates:[-93.1512731, 44.46015]},
        owner: mongojs.ObjectId("537d2b84221e2a193a385e40"),
    },
    {
        _id: mongojs.ObjectId("537e48763511c15161a1ed9e"),
        active: true,
        location: {type:'Point', coordinates:[-93.1512796, 44.4601341]},
        owner: mongojs.ObjectId("537e48763511c15161a1ed9c"),
    },
])

players.insert([
    {
        _id: mongojs.ObjectId("537e48763511c15161a1ed9b"),
        name: "Daniel",
        email: "maegereg@gmail.com",
        score: 500,
    },
    {
        _id: mongojs.ObjectId("537e48763511c15161a1ed9c"),
        name: "Calder",
        email: "caldercoalson@gmail.com",
        score: 500,
    },
])

players.insert(_.map(_.range(100), function () {
    return {
        name: randstr(),
        email: randstr(),
        score: Math.floor(Math.random() * 1000),
    }
}))

db.close()